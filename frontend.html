<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniWorld - Master's Program Search Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-2xl font-bold text-indigo-600">UniWorld</h1>
                    </div>
                    <div class="hidden md:ml-6 md:flex md:space-x-8">
                        <a href="#home" class="nav-link text-gray-900 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Home</a>
                        <a href="#universities" class="nav-link text-gray-500 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Universities</a>
                        <a href="#programs" class="nav-link text-gray-500 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Programs</a>
                        <a href="#search" class="nav-link text-gray-500 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Search</a>
                        <a href="#subscription" class="nav-link text-gray-500 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium">Plans</a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="loginBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700">
                        Login
                    </button>
                    <button id="registerBtn" class="bg-white text-indigo-600 border border-indigo-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-50">
                        Register
                    </button>
                    <div id="userMenu" class="hidden">
                        <div class="relative">
                            <button id="userBtn" class="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                <span id="userName" class="text-gray-700 mr-2"></span>
                                <span id="userPlan" class="bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full mr-2">Free</span>
                                <i class="fas fa-user-circle text-2xl text-indigo-600"></i>
                            </button>
                            <div id="userDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                                <a href="#" onclick="showDashboard()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Dashboard</a>
                                <a href="#" onclick="showUserProfile()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Profile</a>
                                <a href="#" onclick="showPasswordChange()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Change Password</a>
                                <a href="#" onclick="showFavorites()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Favorites</a>
                                <a href="#" onclick="showSubscriptionDashboard()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Subscription</a>
                                <hr class="my-1">
                                <button onclick="logout()" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="gradient-bg text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">
                Find Your Perfect Master's Program
            </h1>
            <p class="text-xl md:text-2xl mb-8 text-indigo-100">
                Discover master's programs in European universities, starting with Italy
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="scrollToSection('search')" class="bg-white text-indigo-600 px-8 py-3 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-colors">
                    Start Searching
                </button>
                <button onclick="scrollToSection('universities')" class="border-2 border-white text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-white hover:text-indigo-600 transition-colors">
                    Browse Universities
                </button>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section id="search" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Search Programs</h2>
                <p class="text-lg text-gray-600">Find master's programs that match your interests and requirements</p>
                
                <!-- Bulk Email Button (Pro users only) -->
                <div id="bulkEmailSection" class="mt-6 hidden">
                    <button onclick="showBulkEmailModal()" class="bg-purple-600 text-white px-6 py-3 rounded-md hover:bg-purple-700 font-medium">
                        <i class="fas fa-envelope-open-text mr-2"></i>Bulk Email Selected Programs
                    </button>
                    <p class="text-sm text-gray-500 mt-2">Select programs to send emails to multiple coordinators at once</p>
                </div>
            </div>
            
            <div class="bg-gray-50 rounded-lg p-6 mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">University</label>
                        <select id="universityFilter" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Universities</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Country</label>
                        <select id="countryFilter" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Countries</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Field of Study</label>
                        <select id="fieldFilter" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Fields</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Degree Level</label>
                        <select id="degreeFilter" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Levels</option>
                            <option value="master">Master</option>
                            <option value="phd">PhD</option>
                            <option value="bachelor">Bachelor</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Language</label>
                        <select id="languageFilter" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Languages</option>
                            <option value="English">English</option>
                            <option value="Italian">Italian</option>
                        </select>
                    </div>
                </div>
                <div class="mt-4 flex justify-center">
                    <button onclick="searchPrograms()" class="bg-indigo-600 text-white px-8 py-2 rounded-md hover:bg-indigo-700 transition-colors">
                        <i class="fas fa-search mr-2"></i>Search Programs
                    </button>
                </div>
            </div>

            <!-- Search Results -->
            <div id="searchResults" class="hidden">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">Search Results</h3>
                    <div id="bulkEmailSection" class="hidden">
                        <div class="flex items-center space-x-4">
                            <span id="selectedCount" class="text-sm text-gray-600">0 programs selected</span>
                            <button id="selectAllBtn" onclick="selectAllPrograms()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm">
                                <i class="fas fa-check-square mr-2"></i>Select All
                            </button>
                            <button id="clearAllBtn" onclick="clearAllPrograms()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm">
                                <i class="fas fa-square mr-2"></i>Clear All
                            </button>
                            <button id="sendBulkEmailBtn" onclick="showBulkEmailModal()" class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-semibold">
                                <i class="fas fa-envelope mr-2"></i>Send Bulk Email
                            </button>
                        </div>
                    </div>
                </div>
                <div id="resultsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
        </div>
    </section>

    <!-- Program Details Modal -->
    <div id="programDetailsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-5xl w-full max-h-[95vh] overflow-y-auto shadow-2xl">
                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-lg">
                    <div class="flex justify-between items-start">
                        <div>
                            <h2 id="programDetailsTitle" class="text-3xl font-bold mb-2">Program Details</h2>
                            <p id="programDetailsUniversity" class="text-indigo-100 text-lg"></p>
                            <p id="programDetailsLocation" class="text-indigo-200"></p>
                        </div>
                        <button onclick="closeProgramDetails()" class="text-white hover:text-gray-300 transition-colors">
                            <i class="fas fa-times text-2xl"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-6">
                    <div id="programDetailsContent" class="space-y-6">
                        <!-- Program details will be loaded here -->
                    </div>
                    
                    <!-- Email Suggestions Section -->
                    <div class="mt-8 bg-blue-50 rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">
                            <i class="fas fa-envelope text-blue-600 mr-2"></i>
                            Contact Coordinators
                        </h3>
                        <div id="emailSuggestions" class="space-y-3">
                            <!-- Email suggestions will be loaded here -->
                        </div>
                        <div class="mt-4">
                            <button onclick="showEmailModal()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                                <i class="fas fa-paper-plane mr-2"></i>Send Email
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-8 flex justify-between items-center">
                        <button onclick="closeProgramDetails()" class="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors">
                            <i class="fas fa-times mr-2"></i>Close
                        </button>
                        <div class="space-x-3">
                            <button onclick="addToFavorites()" class="px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors">
                                <i class="fas fa-heart mr-2"></i>Add to Favorites
                            </button>
                            <button id="visitOfficialPage" onclick="visitOfficialPage()" class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                                <i class="fas fa-external-link-alt mr-2"></i>Visit Official Page
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="fixed top-4 right-4 z-50 space-y-2">
        <!-- Notifications will appear here -->
    </div>

    <!-- Subscription Dashboard Modal -->
    <div id="subscriptionDashboardModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">Subscription Dashboard</h3>
                    <button onclick="closeSubscriptionDashboard()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Current Plan -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Current Plan</h4>
                        <div class="flex items-center mb-4">
                            <span id="currentPlanBadge" class="bg-indigo-100 text-indigo-800 text-sm px-3 py-1 rounded-full">Free</span>
                        </div>
                        <div id="planDetails" class="space-y-2">
                            <p class="text-gray-600">Basic features included</p>
                            <p class="text-gray-600">No monthly cost</p>
                        </div>
                        <div class="mt-4">
                            <button onclick="scrollToSubscription()" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700">
                                Upgrade Plan
                            </button>
                        </div>
                    </div>

                    <!-- Usage Statistics -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Usage This Month</h4>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-600">Emails Sent</span>
                                    <span id="emailsUsed" class="text-sm font-medium">0</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div id="emailsProgress" class="bg-indigo-600 h-2 rounded-full" style="width: 0%"></div>
                                </div>
                                <span id="emailsLimit" class="text-xs text-gray-500">0 / 0</span>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-gray-600">Searches Made</span>
                                    <span id="searchesUsed" class="text-sm font-medium">0</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div id="searchesProgress" class="bg-green-600 h-2 rounded-full" style="width: 0%"></div>
                                </div>
                                <span id="searchesLimit" class="text-xs text-gray-500">0 / Unlimited</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Email History -->
                <div class="mt-8">
                    <h4 class="text-lg font-semibold text-gray-900 mb-4">Recent Email Activity</h4>
                    <div id="emailHistory" class="bg-gray-50 rounded-lg p-4">
                        <p class="text-gray-500 text-center">No emails sent yet</p>
                    </div>
                </div>

                <div class="mt-6 flex justify-end">
                    <button onclick="closeSubscriptionDashboard()" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Dashboard Modal -->
    <div id="dashboardModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">User Dashboard</h3>
                    <button onclick="closeDashboard()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- User Info -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Account Information</h4>
                        <div class="space-y-3">
                            <div>
                                <label class="text-sm font-medium text-gray-600">Username</label>
                                <p id="dashboardUsername" class="text-gray-900"></p>
                            </div>
                            <div>
                                <label class="text-sm font-medium text-gray-600">Email</label>
                                <p id="dashboardEmail" class="text-gray-900"></p>
                            </div>
                            <div>
                                <label class="text-sm font-medium text-gray-600">Member Since</label>
                                <p id="dashboardMemberSince" class="text-gray-900"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Subscription Status -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Subscription Status</h4>
                        <div class="space-y-3">
                            <div>
                                <span id="dashboardPlan" class="bg-indigo-100 text-indigo-800 text-sm px-3 py-1 rounded-full">Free</span>
                            </div>
                            <div>
                                <label class="text-sm font-medium text-gray-600">Emails Used</label>
                                <p id="dashboardEmailsUsed" class="text-gray-900">0 / 0</p>
                            </div>
                            <div>
                                <label class="text-sm font-medium text-gray-600">Status</label>
                                <p id="dashboardStatus" class="text-green-600">Active</p>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h4>
                        <div class="space-y-3">
                            <button onclick="showPasswordChange()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">
                                Change Password
                            </button>
                            <button onclick="showFavorites()" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700">
                                View Favorites
                            </button>
                            <button onclick="showSubscriptionDashboard()" class="w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700">
                                Manage Subscription
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Email Integration Section -->
                <div class="mt-8 bg-white rounded-lg shadow-md p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h4 class="text-xl font-semibold text-gray-900">
                            <i class="fas fa-envelope text-indigo-600 mr-2"></i>
                            Email Integration
                        </h4>
                        <div id="developmentModeIndicator" class="bg-yellow-100 text-yellow-800 text-xs px-3 py-1 rounded-full hidden">
                            <i class="fas fa-code mr-1"></i>Development Mode
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Gmail Integration -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <i class="fab fa-google text-red-500 text-2xl mr-3"></i>
                                    <div>
                                        <h5 class="font-semibold text-gray-900">Gmail</h5>
                                        <p class="text-sm text-gray-600">Connect your Gmail account</p>
                                    </div>
                                </div>
                                <div id="gmailStatus" class="text-sm">
                                    <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full">Not Connected</span>
                                </div>
                            </div>
                            <div id="gmailAccountInfo" class="hidden mb-4 p-3 bg-green-50 rounded-lg">
                                <p class="text-sm text-green-800">
                                    <i class="fas fa-check-circle mr-1"></i>
                                    Connected as: <span id="gmailEmail"></span>
                                </p>
                            </div>
                            <button id="gmailConnectBtn" onclick="connectGmail()" class="w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors">
                                <i class="fab fa-google mr-2"></i>Connect Gmail
                            </button>
                            <button id="gmailDisconnectBtn" onclick="disconnectGmail()" class="w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition-colors hidden">
                                <i class="fas fa-unlink mr-2"></i>Disconnect Gmail
                            </button>
                        </div>

                        <!-- Outlook Integration -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <i class="fab fa-microsoft text-blue-500 text-2xl mr-3"></i>
                                    <div>
                                        <h5 class="font-semibold text-gray-900">Outlook</h5>
                                        <p class="text-sm text-gray-600">Connect your Outlook account</p>
                                    </div>
                                </div>
                                <div id="outlookStatus" class="text-sm">
                                    <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full">Not Connected</span>
                                </div>
                            </div>
                            <div id="outlookAccountInfo" class="hidden mb-4 p-3 bg-green-50 rounded-lg">
                                <p class="text-sm text-green-800">
                                    <i class="fas fa-check-circle mr-1"></i>
                                    Connected as: <span id="outlookEmail"></span>
                                </p>
                            </div>
                            <button id="outlookConnectBtn" onclick="connectOutlook()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors">
                                <i class="fab fa-microsoft mr-2"></i>Connect Outlook
                            </button>
                            <button id="outlookDisconnectBtn" onclick="disconnectOutlook()" class="w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition-colors hidden">
                                <i class="fas fa-unlink mr-2"></i>Disconnect Outlook
                            </button>
                        </div>
                    </div>

                    <!-- Email Settings -->
                    <div class="mt-6 pt-6 border-t border-gray-200">
                        <h5 class="font-semibold text-gray-900 mb-4">Email Settings</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Default Email Provider</label>
                                <select id="defaultEmailProvider" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <option value="gmail">Gmail</option>
                                    <option value="outlook">Outlook</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email Signature</label>
                                <textarea id="emailSignature" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Add your email signature..."></textarea>
                            </div>
                        </div>
                        <div class="mt-4">
                            <button onclick="saveEmailSettings()" class="bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors">
                                <i class="fas fa-save mr-2"></i>Save Settings
                            </button>
                        </div>
                    </div>
                </div>

                <div class="mt-6 flex justify-end">
                    <button onclick="closeDashboard()" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Change Modal -->
    <div id="passwordChangeModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold text-gray-900">Change Password</h3>
                    <button onclick="closePasswordChange()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form id="passwordChangeForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Current Password</label>
                        <input type="password" id="currentPassword" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">New Password</label>
                        <input type="password" id="newPassword" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Confirm New Password</label>
                        <input type="password" id="confirmNewPassword" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="closePasswordChange()" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">
                            Change Password
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Favorites Modal -->
    <div id="favoritesModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">My Favorite Programs</h3>
                    <button onclick="closeFavorites()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div id="favoritesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Favorites will be populated here -->
                </div>
                
                <div class="mt-6 flex justify-end">
                    <button onclick="closeFavorites()" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="userProfileModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">My Profile</h3>
                    <button onclick="closeModal('userProfileModal')" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>

                <!-- Profile Completeness -->
                <div class="mb-6 p-4 bg-blue-50 rounded-lg">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="text-lg font-semibold text-blue-900">Profile Completeness</h4>
                        <span id="profileCompleteness" class="text-lg font-bold text-blue-600">0%</span>
                    </div>
                    <div class="w-full bg-blue-200 rounded-full h-2">
                        <div id="profileProgressBar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                    <p class="text-sm text-blue-700 mt-2">Complete your profile to get better AI-generated emails!</p>
                </div>

                <form id="userProfileForm" class="space-y-6">
                    <!-- Personal Information -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Personal Information</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="profileFirstName" class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                                <input type="text" id="profileFirstName" name="first_name" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileLastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                                <input type="text" id="profileLastName" name="last_name" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileEmail" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="profileEmail" name="email" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profilePhone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                                <input type="tel" id="profilePhone" name="phone_number" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileNationality" class="block text-sm font-medium text-gray-700 mb-2">Nationality</label>
                                <input type="text" id="profileNationality" name="nationality" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileAge" class="block text-sm font-medium text-gray-700 mb-2">Age</label>
                                <input type="number" id="profileAge" name="age" min="16" max="100" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                        </div>
                    </div>

                    <!-- Academic Information -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Academic Information</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="profileDegree" class="block text-sm font-medium text-gray-700 mb-2">Degree</label>
                                <select id="profileDegree" name="degree" 
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <option value="">Select Degree</option>
                                    <option value="Bachelor's">Bachelor's</option>
                                    <option value="Master's">Master's</option>
                                    <option value="PhD">PhD</option>
                                    <option value="Associate">Associate</option>
                                    <option value="Certificate">Certificate</option>
                                </select>
                            </div>
                            <div>
                                <label for="profileMajor" class="block text-sm font-medium text-gray-700 mb-2">Major/Field of Study</label>
                                <input type="text" id="profileMajor" name="major" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileUniversity" class="block text-sm font-medium text-gray-700 mb-2">University</label>
                                <input type="text" id="profileUniversity" name="university" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileGraduationYear" class="block text-sm font-medium text-gray-700 mb-2">Graduation Year</label>
                                <input type="number" id="profileGraduationYear" name="graduation_year" min="1950" max="2030" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileGPA" class="block text-sm font-medium text-gray-700 mb-2">GPA (out of 4.0)</label>
                                <input type="number" id="profileGPA" name="gpa" min="0" max="4" step="0.01" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                        </div>
                    </div>

                    <!-- Professional Information -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Professional Information</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="profilePosition" class="block text-sm font-medium text-gray-700 mb-2">Current Position</label>
                                <input type="text" id="profilePosition" name="current_position" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileCompany" class="block text-sm font-medium text-gray-700 mb-2">Company</label>
                                <input type="text" id="profileCompany" name="company" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profileExperience" class="block text-sm font-medium text-gray-700 mb-2">Years of Experience</label>
                                <input type="number" id="profileExperience" name="work_experience_years" min="0" max="50" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                        </div>
                    </div>

                    <!-- Additional Information -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Additional Information</h4>
                        <div class="space-y-4">
                            <div>
                                <label for="profileExperience" class="block text-sm font-medium text-gray-700 mb-2">Relevant Experience</label>
                                <textarea id="profileExperience" name="relevant_experience" rows="3" 
                                          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                          placeholder="Internships, projects, skills, etc."></textarea>
                            </div>
                            <div>
                                <label for="profileInterests" class="block text-sm font-medium text-gray-700 mb-2">Interests</label>
                                <textarea id="profileInterests" name="interests" rows="3" 
                                          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                          placeholder="Academic and professional interests"></textarea>
                            </div>
                            <div>
                                <label for="profileLanguages" class="block text-sm font-medium text-gray-700 mb-2">Languages Spoken</label>
                                <input type="text" id="profileLanguages" name="languages_spoken" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                       placeholder="English, Spanish, French, etc.">
                            </div>
                            <div>
                                <label for="profileLinkedIn" class="block text-sm font-medium text-gray-700 mb-2">LinkedIn Profile</label>
                                <input type="url" id="profileLinkedIn" name="linkedin_profile" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                            <div>
                                <label for="profilePortfolio" class="block text-sm font-medium text-gray-700 mb-2">Portfolio Website</label>
                                <input type="url" id="profilePortfolio" name="portfolio_website" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            </div>
                        </div>
                    </div>

                    <!-- Preferences -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Study Preferences</h4>
                        <div class="space-y-4">
                            <div>
                                <label for="profileCountries" class="block text-sm font-medium text-gray-700 mb-2">Preferred Countries</label>
                                <input type="text" id="profileCountries" name="preferred_countries" 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                       placeholder="USA, Canada, UK, Germany, etc.">
                            </div>
                            <div>
                                <label for="profileBudget" class="block text-sm font-medium text-gray-700 mb-2">Budget Range</label>
                                <select id="profileBudget" name="budget_range" 
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <option value="">Select Budget Range</option>
                                    <option value="Under $10,000">Under $10,000</option>
                                    <option value="$10,000 - $25,000">$10,000 - $25,000</option>
                                    <option value="$25,000 - $50,000">$25,000 - $50,000</option>
                                    <option value="$50,000 - $100,000">$50,000 - $100,000</option>
                                    <option value="Over $100,000">Over $100,000</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="closeModal('userProfileModal')" 
                                class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" 
                                class="px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">
                            Save Profile
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Email Composition Modal -->
    <div id="emailModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">Email Coordinator</h3>
                    <button onclick="closeEmailModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <!-- Coordinator Info -->
                <div id="coordinatorInfo" class="bg-gray-50 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-gray-900 mb-2">Recipient Information</h4>
                    <div id="coordinatorDetails" class="text-sm text-gray-600">
                        <!-- Coordinator details will be populated here -->
                    </div>
                </div>

                <!-- Email Form -->
                <form id="emailForm" class="space-y-6">
                    <div>
                        <label for="emailSubject" class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                        <input type="text" id="emailSubject" name="subject" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                               placeholder="Inquiry about Master's Program" required>
                    </div>

                    <div>
                        <label for="emailBody" class="block text-sm font-medium text-gray-700 mb-2">Message</label>
                        <textarea id="emailBody" name="body" rows="8" 
                                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                  placeholder="Dear Coordinator,

I am writing to inquire about the [Program Name] at [University Name]. I am very interested in this program and would like to learn more about:

1. Application requirements and deadlines
2. Admission process
3. Program structure and curriculum
4. Scholarship opportunities
5. Career prospects after graduation

I would appreciate any additional information you could provide.

Thank you for your time and consideration.

Best regards,
[Your Name]" required></textarea>
                    </div>

                    <!-- AI Email Assistant -->
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                        <label class="block text-sm font-medium text-gray-700 mb-2">🤖 AI Email Assistant</label>
                        
                        <!-- Language and Email Type Selection -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div class="bg-white p-3 rounded border">
                                <label class="block text-sm font-medium text-gray-600 mb-2">🌍 Language / Lingua / Langue / Idioma</label>
                                <select id="emailLanguage" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <option value="en">🇺🇸 English</option>
                                    <option value="it">🇮🇹 Italiano</option>
                                    <option value="fr">🇫🇷 Français</option>
                                    <option value="es">🇪🇸 Español</option>
                                    <option value="de">🇩🇪 Deutsch</option>
                                    <option value="pt">🇵🇹 Português</option>
                                    <option value="nl">🇳🇱 Nederlands</option>
                                    <option value="ru">🇷🇺 Русский</option>
                                    <option value="zh">🇨🇳 中文</option>
                                    <option value="ja">🇯🇵 日本語</option>
                                    <option value="ko">🇰🇷 한국어</option>
                                    <option value="ar">🇸🇦 العربية</option>
                                </select>
                            </div>
                            
                            <div class="bg-white p-3 rounded border">
                                <label class="block text-sm font-medium text-gray-600 mb-2">📧 Email Type</label>
                                <select id="emailType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <option value="inquiry">General Inquiry</option>
                                    <option value="admission">Admission Question</option>
                                    <option value="scholarship">Scholarship Inquiry</option>
                                    <option value="application">Application Status</option>
                                    <option value="visa">Visa Information</option>
                                    <option value="research">Research Opportunities</option>
                                    <option value="career">Career Opportunities</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4">
                            <button type="button" onclick="generateAISuggestions()" 
                                    class="px-3 py-2 bg-blue-100 text-blue-800 rounded-md hover:bg-blue-200 text-sm">
                                <i class="fas fa-robot mr-1"></i>Generate Email
                            </button>
                            <button type="button" onclick="generateAISubjectOptions()" 
                                    class="px-3 py-2 bg-green-100 text-green-800 rounded-md hover:bg-green-200 text-sm">
                                <i class="fas fa-edit mr-1"></i>Subject Options
                            </button>
                            <button type="button" onclick="enhanceEmailContent()" 
                                    class="px-3 py-2 bg-purple-100 text-purple-800 rounded-md hover:bg-purple-200 text-sm">
                                <i class="fas fa-magic mr-1"></i>Enhance Content
                            </button>
                        </div>
                        
                        <!-- AI Suggestions Container -->
                        <div id="aiSuggestionsContainer" class="hidden mb-6">
                            <!-- AI suggestions will be populated here -->
                        </div>
                    </div>

                    <!-- Email Templates -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Quick Templates</label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <button type="button" onclick="loadEmailTemplate('inquiry')" 
                                    class="px-3 py-2 bg-blue-100 text-blue-800 rounded-md hover:bg-blue-200 text-sm">
                                General Inquiry
                            </button>
                            <button type="button" onclick="loadEmailTemplate('admission')" 
                                    class="px-3 py-2 bg-green-100 text-green-800 rounded-md hover:bg-green-200 text-sm">
                                Admission Questions
                            </button>
                            <button type="button" onclick="loadEmailTemplate('scholarship')" 
                                    class="px-3 py-2 bg-purple-100 text-purple-800 rounded-md hover:bg-purple-200 text-sm">
                                Scholarship Inquiry
                            </button>
                        </div>
                    </div>

                    <!-- Usage Info -->
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4">
                        <div class="flex items-center">
                            <i class="fas fa-info-circle text-indigo-600 mr-2"></i>
                            <span class="text-sm text-indigo-800">
                                <span id="emailUsageInfo">You have 0 emails remaining this month</span>
                            </span>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="closeEmailModal()" 
                                class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="sendEmailBtn" 
                                class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
                            <i class="fas fa-paper-plane mr-2"></i>Send Email
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Bulk Email Modal -->
    <div id="bulkEmailModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">Bulk Email Coordinators</h3>
                    <button onclick="closeBulkEmailModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <!-- Selected Programs -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                    <h4 class="font-semibold text-gray-900 mb-3">Selected Programs</h4>
                    <div id="selectedProgramsList" class="space-y-2">
                        <!-- Selected programs will be listed here -->
                    </div>
                    <div class="mt-3">
                        <button onclick="selectAllPrograms()" class="text-sm text-indigo-600 hover:text-indigo-700 mr-4">Select All</button>
                        <button onclick="clearAllPrograms()" class="text-sm text-gray-600 hover:text-gray-700">Clear All</button>
                    </div>
                </div>

                <!-- Email Form -->
                <form id="bulkEmailForm" class="space-y-6">
                    <div>
                        <label for="bulkEmailSubject" class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                        <div class="flex space-x-2">
                            <input type="text" id="bulkEmailSubject" name="subject" 
                                   class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                   placeholder="Inquiry about Master's Programs" required>
                            <button type="button" onclick="generateBulkAISubject()" 
                                    class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                <i class="fas fa-magic mr-2"></i>AI Subject
                            </button>
                        </div>
                    </div>

                    <div>
                        <label for="bulkEmailBody" class="block text-sm font-medium text-gray-700 mb-2">Message</label>
                        <div class="space-y-2">
                            <div class="flex space-x-2">
                                <button type="button" onclick="generateBulkAIContent()" 
                                        class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <i class="fas fa-robot mr-2"></i>Generate AI Content
                                </button>
                                <button type="button" onclick="loadBulkEmailTemplate('general')" 
                                        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <i class="fas fa-file-alt mr-2"></i>Load Template
                                </button>
                            </div>
                            <textarea id="bulkEmailBody" name="body" rows="8" 
                                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                      placeholder="Dear Coordinator,

I am writing to inquire about the master's programs at your university. I am very interested in learning more about:

1. Available programs in my field of study
2. Application requirements and deadlines
3. Admission process and criteria
4. Scholarship opportunities
5. Career prospects after graduation

I would appreciate any additional information you could provide about the programs and the application process.

Thank you for your time and consideration.

Best regards,
[Your Name]" required></textarea>
                        </div>
                    </div>

                    <!-- AI Model Selection -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="bulkEmailLanguage" class="block text-sm font-medium text-gray-700 mb-2">Language</label>
                            <select id="bulkEmailLanguage" name="language" 
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                <option value="en">English</option>
                                <option value="it">Italian</option>
                                <option value="fr">French</option>
                                <option value="es">Spanish</option>
                                <option value="de">German</option>
                                <option value="pt">Portuguese</option>
                                <option value="nl">Dutch</option>
                                <option value="ru">Russian</option>
                                <option value="zh">Chinese</option>
                                <option value="ja">Japanese</option>
                                <option value="ko">Korean</option>
                                <option value="ar">Arabic</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="bulkEmailType" class="block text-sm font-medium text-gray-700 mb-2">Email Type</label>
                            <select id="bulkEmailType" name="email_type" 
                                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                <option value="inquiry">General Inquiry</option>
                                <option value="admission">Admission Question</option>
                                <option value="scholarship">Scholarship Inquiry</option>
                                <option value="application">Application Status</option>
                                <option value="visa">Visa Information</option>
                            </select>
                        </div>
                    </div>

                    <!-- Email Templates -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Quick Templates</label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <button type="button" onclick="loadBulkEmailTemplate('general')" 
                                    class="px-3 py-2 bg-blue-100 text-blue-800 rounded-md hover:bg-blue-200 text-sm">
                                General Inquiry
                            </button>
                            <button type="button" onclick="loadBulkEmailTemplate('admission')" 
                                    class="px-3 py-2 bg-green-100 text-green-800 rounded-md hover:bg-green-200 text-sm">
                                Admission Questions
                            </button>
                            <button type="button" onclick="loadBulkEmailTemplate('scholarship')" 
                                    class="px-3 py-2 bg-purple-100 text-purple-800 rounded-md hover:bg-purple-200 text-sm">
                                Scholarship Inquiry
                            </button>
                        </div>
                    </div>

                    <!-- Usage Info -->
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                        <div class="flex items-center">
                            <i class="fas fa-info-circle text-purple-600 mr-2"></i>
                            <span class="text-sm text-purple-800">
                                <span id="bulkEmailUsageInfo">You will send emails to 0 coordinators</span>
                            </span>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="closeBulkEmailModal()" 
                                class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="sendBulkEmailBtn" 
                                class="px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
                            <i class="fas fa-paper-plane mr-2"></i>Send Bulk Email
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Universities Section -->
    <section id="universities" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Featured Universities</h2>
                <p class="text-lg text-gray-600">Explore top Italian universities offering master's programs</p>
            </div>
            <div id="universitiesContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Universities will be loaded here -->
            </div>
            <div class="text-center mt-8">
                <button id="showMoreUniversities" onclick="showMoreUniversities()" class="bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700 hidden">
                    Show More Universities
                </button>
            </div>
        </div>
    </section>

    <!-- Programs Section -->
    <section id="programs" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Featured Programs</h2>
                <p class="text-lg text-gray-600">Discover master's programs across various fields of study</p>
            </div>
            <div id="programsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Programs will be loaded here -->
            </div>
            <div class="text-center mt-8">
                <button id="showMorePrograms" onclick="showMorePrograms()" class="bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700 hidden">
                    Show More Programs
                </button>
            </div>
        </div>
    </section>

    <!-- Subscription Plans Section -->
    <section id="subscription" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Choose Your Plan</h2>
                <p class="text-lg text-gray-600">Unlock premium features to enhance your university search experience</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Free Plan -->
                <div class="bg-white rounded-lg shadow-md p-8 border-2 border-gray-200">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Free</h3>
                        <div class="text-4xl font-bold text-gray-900 mb-2">€0</div>
                        <p class="text-gray-600">Perfect for getting started</p>
                    </div>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Browse universities & programs</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Basic search functionality</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>View program details</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-times text-red-500 mr-3"></i>
                            <span class="text-gray-400">Email coordinators</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-times text-red-500 mr-3"></i>
                            <span class="text-gray-400">Advanced filters</span>
                        </li>
                    </ul>
                    <button class="w-full bg-gray-300 text-gray-700 py-3 rounded-md font-medium cursor-not-allowed">
                        Current Plan
                    </button>
                </div>

                <!-- Premium Plan -->
                <div class="bg-white rounded-lg shadow-md p-8 border-2 border-indigo-500 relative">
                    <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                        <span class="bg-indigo-500 text-white px-4 py-1 rounded-full text-sm font-medium">Most Popular</span>
                    </div>
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Premium</h3>
                        <div class="text-4xl font-bold text-indigo-600 mb-2">€9.99</div>
                        <p class="text-gray-600">per month</p>
                    </div>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Everything in Free</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Email coordinators (50/month)</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Advanced filtering</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Save searches</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Export results</span>
                        </li>
                    </ul>
                    <button onclick="subscribeToPlan('premium')" class="w-full bg-indigo-600 text-white py-3 rounded-md font-medium hover:bg-indigo-700">
                        Upgrade to Premium
                    </button>
                </div>

                <!-- Pro Plan -->
                <div class="bg-white rounded-lg shadow-md p-8 border-2 border-gray-200">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Pro</h3>
                        <div class="text-4xl font-bold text-gray-900 mb-2">€19.99</div>
                        <p class="text-gray-600">per month</p>
                    </div>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Everything in Premium</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Bulk email (200/month)</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Email templates</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Email tracking</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-500 mr-3"></i>
                            <span>Priority support</span>
                        </li>
                    </ul>
                    <button onclick="subscribeToPlan('pro')" class="w-full bg-gray-900 text-white py-3 rounded-md font-medium hover:bg-gray-800">
                        Upgrade to Pro
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-indigo-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Why Choose UniWorld?</h2>
                <p class="text-lg text-gray-600">Comprehensive platform for finding your ideal master's program</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-search text-2xl text-indigo-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Advanced Search</h3>
                    <p class="text-gray-600">Filter programs by country, field, requirements, and more</p>
                </div>
                <div class="text-center">
                    <div class="bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-graduation-cap text-2xl text-indigo-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Comprehensive Info</h3>
                    <p class="text-gray-600">Detailed program information including requirements and fees</p>
                </div>
                <div class="text-center">
                    <div class="bg-indigo-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-envelope text-2xl text-indigo-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Direct Contact</h3>
                    <p class="text-gray-600">Connect directly with program coordinators (Premium feature)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">UniWorld</h3>
                    <p class="text-gray-400">Master's Program Search Platform for European Universities</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Platform</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#universities" class="hover:text-white">Universities</a></li>
                        <li><a href="#programs" class="hover:text-white">Programs</a></li>
                        <li><a href="#search" class="hover:text-white">Search</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white">Help Center</a></li>
                        <li><a href="#" class="hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="hover:text-white">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">API</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="http://127.0.0.1:8000/api/docs/" target="_blank" class="hover:text-white">API Documentation</a></li>
                        <li><a href="http://127.0.0.1:8000/api/redoc/" target="_blank" class="hover:text-white">ReDoc</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 UniWorld. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">Login</h3>
                    <button onclick="closeModal('loginModal')" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="loginForm">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="loginEmail" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="loginPassword" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition-colors">
                        Login
                    </button>
                </form>
                <p class="text-center mt-4 text-sm text-gray-600">
                    Don't have an account? <button onclick="showRegisterModal()" class="text-indigo-600 hover:text-indigo-700">Register here</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg p-6 w-full max-w-md">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">Register</h3>
                    <button onclick="closeModal('registerModal')" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="registerForm">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                        <input type="text" id="registerUsername" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="registerEmail" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                        <input type="text" id="registerFirstName" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                        <input type="text" id="registerLastName" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="registerPassword" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                        <input type="password" id="registerPasswordConfirm" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500" required>
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition-colors">
                        Register
                    </button>
                </form>
                <p class="text-center mt-4 text-sm text-gray-600">
                    Already have an account? <button onclick="showLoginModal()" class="text-indigo-600 hover:text-indigo-700">Login here</button>
                </p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
